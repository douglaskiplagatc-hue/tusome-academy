{% extends "base.html" %}
{% block title %}Edit User - Tusome SMS{% endblock %}
<link rel="stylesheet" href="static/bootstrap.min.css">
{% block content %}
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <!--
                This container will be targeted by HTMX to replace its content
                with the new form fragment after a form submission.
            -->
                {% include 'edit_user_form_fragment.html' %}
                <div id="edit-user-form-container">
                    <!-- HTMX will load the form here on initial page load -->
                    <div hx-get="{{ url_for('edit_user', user_id=user.id) }}"
                         hx-trigger="load"
                         hx-swap="outerHTML">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="text-muted mt-2">Loading user form...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
